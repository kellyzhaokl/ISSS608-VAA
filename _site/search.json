[
  {
    "objectID": "In-class_Ex/In-class_Ex01/In-class_Ex01.html",
    "href": "In-class_Ex/In-class_Ex01/In-class_Ex01.html",
    "title": "In-class Exercise 1: Now You See It!",
    "section": "",
    "text": "##Loading R packages\nIn this hands-on exercise, two R packages will be used. They are:\nThe code chunk used is as follows:\npacman::p_load(tidyverse,haven)"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex01/In-class_Ex01.html#importing-pisa-data",
    "href": "In-class_Ex/In-class_Ex01/In-class_Ex01.html#importing-pisa-data",
    "title": "In-class Exercise 1: Now You See It!",
    "section": "Importing PISA data",
    "text": "Importing PISA data\nThe code chunk below uses read_sas() of haven to import PISA data into R environment.\n\n# eval: false\nstu_qqq &lt;- read_sas(\"data/cy08msp_stu_qqq.sas7bdat\")\n\n\n# eval: false\nstu_qqq_SG &lt;- stu_qqq %&gt;%\n  filter(CNT == \"SGP\")\n\n\n# eval: false\nwrite_rds(stu_qqq_SG,\n          \"data/stu_qqq_SG.rds\")\n\n\n# eval: false\nstu_qqq_SG &lt;-\n  read_rds(\"data/stu_qqq_SG.rds\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed in the computer. If they are, then they will be launched into R.\n\npacman::p_load(tidyverse)\n\n\n\n\n\nexam_data &lt;- read_csv(\"data/Exam_data.csv\")\n\nRows: 322 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): ID, CLASS, GENDER, RACE\ndbl (3): ENGLISH, MATHS, SCIENCE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#install-and-launching-r-packages",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#install-and-launching-r-packages",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed in the computer. If they are, then they will be launched into R.\n\npacman::p_load(tidyverse)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#importing-the-data",
    "href": "Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html#importing-the-data",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "exam_data &lt;- read_csv(\"data/Exam_data.csv\")\n\nRows: 322 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): ID, CLASS, GENDER, RACE\ndbl (3): ENGLISH, MATHS, SCIENCE\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html",
    "title": "Hands-on_Ex02",
    "section": "",
    "text": "The name and function of the new packages that will be used for this exercise are as follow:\n\nggrepel: an R package provides a way to prevent labels from overlapping in ggplot2 plots.\nggthemes: an R package provides some extra themes, geoms, and scales for ‘ggplot2’.\nhrbrthemes: an R package provides another set of visually appealing themes and formatting options for ggplot2.\npatchwork: an R package provides a way to combine multiple ggplot2 plots into a single figure.\n\n\n\nCode\n# eval: false\npacman::p_load(tidyverse, patchwork, \n               ggthemes, hrbrthemes,\n               ggrepel)\n\n\n\n\n\n\n\nCode\n# eval: false\nexam_data &lt;- read_csv(\"data/Exam_data.csv\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#install-and-load-the-required-r-libraries",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#install-and-load-the-required-r-libraries",
    "title": "Hands-on_Ex02",
    "section": "",
    "text": "The name and function of the new packages that will be used for this exercise are as follow:\n\nggrepel: an R package provides a way to prevent labels from overlapping in ggplot2 plots.\nggthemes: an R package provides some extra themes, geoms, and scales for ‘ggplot2’.\nhrbrthemes: an R package provides another set of visually appealing themes and formatting options for ggplot2.\npatchwork: an R package provides a way to combine multiple ggplot2 plots into a single figure.\n\n\n\nCode\n# eval: false\npacman::p_load(tidyverse, patchwork, \n               ggthemes, hrbrthemes,\n               ggrepel)"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#import-the-data",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#import-the-data",
    "title": "Hands-on_Ex02",
    "section": "",
    "text": "Code\n# eval: false\nexam_data &lt;- read_csv(\"data/Exam_data.csv\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-ggrepel-package",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-ggrepel-package",
    "title": "Hands-on_Ex02",
    "section": "2.1 Working with ggrepel package",
    "text": "2.1 Working with ggrepel package\nggrepel is an extension of ggplot2 package which provides geoms for ggplot2 to repel overlapping text as in our examples on the right.\n\n\nCode\n# eval: false\nggplot(data = exam_data,\n       aes(x = MATHS,\n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm,\n              linewidth = 0.5) +\n  geom_label_repel(aes(label = ID),\n                   fontface = \"bold\") +\n  coord_cartesian(xlim = c(0,100),\n                  ylim = c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-themes",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-themes",
    "title": "Hands-on_Ex02",
    "section": "2.2 Working with themes",
    "text": "2.2 Working with themes\n8 Built-in themes: theme_gray(), theme_bw(), theme_classic(), theme_dark(), theme_light(), theme_linedraw(), theme_minimal(), and theme_void(). Refer to here\n\n\nCode\nggplot(data = exam_data,\n       aes(x = MATHS)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"grey25\",\n                 fill = \"grey90\") +\n  theme_gray() +\n  ggtitle(\"Ditribution of Maths scores\")\n\n\n\n\n\n\n2.2.1 Working with ggthems package\nIn the example below, The Economist theme is used.\n\n\nCode\nggplot(data = exam_data,\n       aes(x = MATHS)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"grey25\",\n                 fill = \"grey90\") +\n  theme_economist() +\n  ggtitle(\"Ditribution of Maths scores\")\n\n\n\n\n\n\n\n2.2.2 Working with hrbthems package\nhrbrthemesThis focuses more on the typographic elements, labels and fonts.\n\n\nCode\nggplot(data=exam_data, \n             aes(x = MATHS)) +\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"grey25\", \n                 fill=\"grey90\") +\n  ggtitle(\"Distribution of Maths scores\") +\n  theme_ipsum()\n\n\n\n\n\nThe second goal centers around productivity for a production workflow. In fact, this “production workflow” is the context for where the elements of hrbrthemes should be used.\n\n\nCode\nggplot(data = exam_data,\n       aes(x = MATHS)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"grey25\",\n                 fill = \"grey90\") +\n  theme_ipsum(axis_title_size = 18,          #increase font size of the axis title to 18\n              base_size = 15,                #increase the default axis label to 15\n              grid = \"Y\") +                  #only keep the y-axis grid line -&gt; remove the x-axis grid lines\n  ggtitle(\"Ditribution of Maths scores\")"
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-patchwork",
    "href": "Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html#working-with-patchwork",
    "title": "Hands-on_Ex02",
    "section": "2.3 Working with patchwork",
    "text": "2.3 Working with patchwork\nCreating composite plot by combining multiple graphs. Start with creating three statistical graphics below.\n\n\nCode\n#creating histogram\np1 &lt;- ggplot(data = exam_data,\n       aes(x = MATHS)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"grey25\",\n                 fill = \"grey90\") +\n  coord_cartesian(xlim = c(0,100)) +\n  ggtitle(\"Ditribution of Maths scores\")\n\np2 &lt;- ggplot(data = exam_data,\n       aes(x = ENGLISH)) +\n  geom_histogram(bins = 20,\n                 boundary = 100,\n                 color = \"grey25\",\n                 fill = \"grey90\") +\n  coord_cartesian(xlim = c(0,100)) +\n  ggtitle(\"Ditribution of English scores\")\n\n#creating scatterplot\np3 &lt;- ggplot(data = exam_data,\n       aes(x = MATHS,\n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm,\n              linewidth = 0.5) +\n  coord_cartesian(xlim = c(0,100),\n                  ylim = c(0,100)) +\n  ggtitle(\"English scores versus Maths scores for Primary 3\")\n\n\nCreating patchwork.(Refer here for more details)\n\nUse ‘+’ sign to create two columns layout\nUse ‘/’ sign to create two row layout (stack)\nUse ‘()’ sign to create subplot group\nUse ‘|’ sign to place the plots besisde each other\n\nExample 1\n\n\nCode\np1 + p2 / p3\n\n\n\n\n\nExample 2\n\n\nCode\n(p1 / p2) | p3\n\n\n\n\n\nExample 3: It will auto-tag the subplots in text\n\n\nCode\n((p1 / p2) | p3) +\n  plot_annotation(tag_levels = 'I')\n\n\n\n\n\nExample 4: Combine patchwork and themes\n\n\nCode\n((p1 / p2) | p3) & theme_economist()\n\n\n\n\n\nExample 5: Insert another plot in a plot using insert_element()\n\n\nCode\np3 + inset_element(p2,\n                   left = 0.02,\n                   bottom = 0.7,\n                   right = 0.5,\n                   top = 1)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608-VAA",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Applications. In this website, you will find my coursework prepared for this course."
  },
  {
    "objectID": "index.html#in-this-website-you-will-find-my-coursework-prepared-for-this-course.",
    "href": "index.html#in-this-website-you-will-find-my-coursework-prepared-for-this-course.",
    "title": "ISSS608-VAA",
    "section": "In this website, you will find my coursework prepared for this course.",
    "text": "In this website, you will find my coursework prepared for this course."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html",
    "title": "Take-home_Ex01",
    "section": "",
    "text": "Despite official claims of educational equity in Singapore, public perception highlights persistent disparities based on socioeconomic status, school type, and family background."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#loading-r-packages",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#loading-r-packages",
    "title": "Take-home_Ex01",
    "section": "3.1 Loading R packages",
    "text": "3.1 Loading R packages\n\n\nCode\npacman::p_load(tidyverse,haven,dplyr,tidyr,ggplot2,patchwork,ggthemes)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#data-set",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#data-set",
    "title": "Take-home_Ex01",
    "section": "3.2 Data set",
    "text": "3.2 Data set\nAs we are focursed on Singapore database. So firstly we should filter Singapore dataset. Refer to In-class Exercise 1 for more details.\n\n\nCode\n# eval: false\nstu_qqq_SG &lt;-\n  read_rds(\"data/stu_qqq_SG.rds\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#data-preparation-1",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#data-preparation-1",
    "title": "Take-home_Ex01",
    "section": "3.3 Data Preparation",
    "text": "3.3 Data Preparation\n\n1.Find the relative math score data in ‘stu_qqq_SG’ dataset\n\n\nCode\n# eval: false\n# Select the specific columns and view the first few rows\nhead(select(stu_qqq_SG, PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH))\n\n\n# A tibble: 6 × 10\n  PV1MATH PV2MATH PV3MATH PV4MATH PV5MATH PV6MATH PV7MATH PV8MATH PV9MATH\n    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1    639.    601.    621.    632.    579.    592.    601.    587.    618.\n2    697.    754.    672.    657.    621.    656.    748.    694.    743.\n3    694.    654.    697.    646.    678.    644.    721.    671.    694.\n4    427.    410.    424.    389.    331.    380.    399.    422.    375.\n5    436.    453.    392.    440.    443.    453.    397.    460.    438.\n6    570.    540.    532.    534.    466.    529.    514.    521.    472.\n# ℹ 1 more variable: PV10MATH &lt;dbl&gt;\n\n\nSimilarly, we can find the reading and science score data and then get the average value for each course.\n\n\n2.Add new columns for math,reading and science\n\n\nCode\nstu_qqq_SG &lt;- stu_qqq_SG %&gt;%\n  mutate(\n    Math = rowMeans(select(., starts_with(\"PV1MATH\"), ends_with(\"PV10MATH\")), na.rm = TRUE),\n    Reading = rowMeans(select(., starts_with(\"PV1READ\"), ends_with(\"PV10READ\")), na.rm = TRUE),\n    Science = rowMeans(select(., starts_with(\"PV1SCIE\"), ends_with(\"PV10SCIE\")), na.rm = TRUE)\n  )\n\n\n\n\n3.Create new table for later analysis\nSelect relative columns and create new_data with 7 columns and 6606 ids. Then see the total view of the data, where find that there are 47 missing values which can be considered deleted.\n\n\nCode\nnew_data &lt;- select(stu_qqq_SG,CNTSTUID,CNTSCHID,ST004D01T, ESCS, Math, Reading, Science)\nsummary(new_data)\n\n\n    CNTSTUID           CNTSCHID          ST004D01T          ESCS        \n Min.   :70200001   Min.   :70200001   Min.   :1.000   Min.   :-3.5488  \n 1st Qu.:70201836   1st Qu.:70200040   1st Qu.:1.000   1st Qu.:-0.2327  \n Median :70203674   Median :70200081   Median :2.000   Median : 0.4817  \n Mean   :70203673   Mean   :70200082   Mean   :1.508   Mean   : 0.2904  \n 3rd Qu.:70205513   3rd Qu.:70200123   3rd Qu.:2.000   3rd Qu.: 0.9036  \n Max.   :70207345   Max.   :70200165   Max.   :2.000   Max.   : 3.2780  \n                                                       NA's   :47       \n      Math          Reading         Science     \n Min.   :252.1   Min.   :141.2   Min.   :200.1  \n 1st Qu.:505.0   1st Qu.:478.1   1st Qu.:497.4  \n Median :583.0   Median :552.9   Median :569.3  \n Mean   :574.5   Mean   :543.6   Mean   :560.8  \n 3rd Qu.:648.0   3rd Qu.:617.5   3rd Qu.:630.0  \n Max.   :844.1   Max.   :813.8   Max.   :810.2  \n                                                \n\n\nCode\nnew_data &lt;- new_data %&gt;% filter(complete.cases(.))"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#the-distribution-of-singapore-students-performance-in-each-course",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#the-distribution-of-singapore-students-performance-in-each-course",
    "title": "Take-home_Ex01",
    "section": "4.1 The distribution of Singapore students’ performance in each course",
    "text": "4.1 The distribution of Singapore students’ performance in each course\n\n\nCode\nlong_data &lt;- pivot_longer(new_data, \n                          cols = c(\"Math\", \"Reading\", \"Science\"),\n                          names_to = \"subject\", \n                          values_to = \"score\")\nggplot(long_data, aes(x = subject, y = score, fill = subject)) +\n  geom_boxplot() +  \n  scale_fill_manual(values = c(\"Math\" = \"magenta\", \"Reading\" = \"green\", \"Science\" = \"yellow\")) + # 为不同的科目设置颜色\n  stat_summary(fun = mean, geom = \"point\", shape = 20, size = 3, color = \"red\") +\n  \n  theme_minimal() +\n  labs(title = \"Distribution of Scores in Math, Reading, and Science\",\n       x = \"Subject\",\n       y = \"Average Score\") +\n  theme(plot.title = element_text(hjust = 0.5),\n        axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nFrom the plot, we could see that for students performance in three subjects,math is the most highest among three courses, and the next up higher is science. Reading the lowest."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-gender",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-gender",
    "title": "Take-home_Ex01",
    "section": "4.2 Subject Performance by gender",
    "text": "4.2 Subject Performance by gender\n\n\nCode\nggplot(long_data, aes(x = subject, y = score, fill = factor(ST004D01T, labels = c(\"Female\", \"Male\")))) +\n  geom_boxplot(position = position_dodge(width = 0.8)) +\n  scale_fill_manual(values = c(\"Female\" = \"pink\", \"Male\" = \"blue\")) +\n  labs(title = \"Performance Distribution by Subject and Gender\",\n       x = \"Subject\",\n       y = \"Score\",\n       fill = \"Gender\") +\n  theme_minimal() +\n  theme(legend.title = element_text(hjust = 0.5),\n        axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nFrom the boxplot, we could see that male tends to get higher scores in math and science than female. Female tends to perform better in Reading."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-different-school",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-different-school",
    "title": "Take-home_Ex01",
    "section": "4.3Subject Performance by different school",
    "text": "4.3Subject Performance by different school\n\n\nCode\n# Select the necessary columns from your data frame\nnew_data &lt;- select(stu_qqq_SG, CNTSTUID, CNTSCHID, ST004D01T, ESCS, Math, Reading, Science)\n\n# Summarize the data to calculate the average scores for each school and subject\nschool_averages &lt;- new_data %&gt;%\n  group_by(CNTSCHID) %&gt;%\n  summarize(\n    Average_Math = mean(Math, na.rm = TRUE),\n    Average_Reading = mean(Reading, na.rm = TRUE),\n    Average_Science = mean(Science, na.rm = TRUE)\n  ) %&gt;%\n  ungroup() # Ungroup for further analysis\n\n# Check the summary of the newly created school_averages\nsummary(school_averages)\n\n\n    CNTSCHID         Average_Math   Average_Reading Average_Science\n Min.   :70200001   Min.   :388.4   Min.   :329.6   Min.   :383.6  \n 1st Qu.:70200042   1st Qu.:531.6   1st Qu.:502.0   1st Qu.:523.1  \n Median :70200082   Median :564.2   Median :534.6   Median :548.0  \n Mean   :70200083   Mean   :570.3   Mean   :539.8   Mean   :557.1  \n 3rd Qu.:70200123   3rd Qu.:592.7   3rd Qu.:564.2   3rd Qu.:581.1  \n Max.   :70200165   Max.   :738.5   Max.   :674.4   Max.   :713.3  \n\n\nCode\n# We will reshape the data to a long format for easier plotting with ggplot2\nschool_averages_long &lt;- school_averages %&gt;%\n  pivot_longer(\n    cols = starts_with(\"Average\"),\n    names_to = \"Subject\",\n    values_to = \"Average_Score\"\n  )\n\n# Now we create a plot\nggplot(school_averages_long, aes(x = Subject, y = Average_Score, fill = CNTSCHID)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Average Scores by Subject and School\", x = \"Subject\", y = \"Average Score\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\nFrom the plot, we could see that students in school 003 get highest score in math and science. Students in school 062 get the highest score in subject. However, students in school 149 perform the worst in all three courses."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-socioeconomic-status",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-socioeconomic-status",
    "title": "Take-home_Ex01",
    "section": "4.4 Subject Performance by socioeconomic status",
    "text": "4.4 Subject Performance by socioeconomic status\n\n\nCode\ntheme_setting &lt;- theme(\n  plot.title = element_text(size = 10),  # 设置标题文字大小为10\n  plot.subtitle = element_text(size = 8),\n  plot.caption = element_text(size = 8)\n)\n\np1 &lt;- ggplot(data=new_data, aes(x= ESCS, y=Math)) +\n  geom_point() +\n  geom_smooth(method=lm, linewidth=0.5) +  \n  coord_cartesian(xlim=c(-3,3), ylim=c(250,850)) +\n  ggtitle(\"Math Scores vs. ESCS\") +  \n  theme_setting\n\np2 &lt;- ggplot(data=new_data, aes(x= ESCS, y=Reading)) +\n  geom_point() +\n  geom_smooth(method=lm, linewidth=0.5) +  \n  coord_cartesian(xlim=c(-3,3), ylim=c(250,850)) +\n  ggtitle(\"Reading Scores vs. ESCS\") +\n  theme_setting\n\np3 &lt;- ggplot(data=new_data, aes(x= ESCS, y=Science)) +\n  geom_point() +\n  geom_smooth(method=lm, linewidth=0.5) +  \n  coord_cartesian(xlim=c(-3,3), ylim=c(250,850)) +\n  ggtitle(\"Science Scores vs. ESCS\") +\n  theme_setting\n\npatchwork &lt;- (p1 / p2) | p3\npatchwork & theme_economist()\n\n\n\n\n\nFrom the plot, we could see that all three subjects—Math, Reading, and Science—show a positive correlation with the Economic, Social, and Cultural Status (ESCS) index. Most of the students are in the middle class."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-different-schools",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#subject-performance-by-different-schools",
    "title": "Take-home_Ex01",
    "section": "4.3 Subject Performance by different schools",
    "text": "4.3 Subject Performance by different schools\n\n\nCode\n# Calculate the average scores for each school and subject\nschool_averages &lt;- new_data %&gt;%\n  group_by(CNTSCHID) %&gt;%\n  summarize(\n    Math = mean(Math, na.rm = TRUE),\n    Reading = mean(Reading, na.rm = TRUE),\n    Science = mean(Science, na.rm = TRUE),\n    .groups = 'drop'\n  )\n\n# Find the top and bottom schools for each subject\ntop_bottom_schools &lt;- school_averages %&gt;%\n  summarize(\n    Top_Math_ID = CNTSCHID[which.max(Math)],\n    Top_Math_Score = max(Math),\n    Bottom_Math_ID = CNTSCHID[which.min(Math)],\n    Bottom_Math_Score = min(Math),\n    Top_Reading_ID = CNTSCHID[which.max(Reading)],\n    Top_Reading_Score = max(Reading),\n    Bottom_Reading_ID = CNTSCHID[which.min(Reading)],\n    Bottom_Reading_Score = min(Reading),\n    Top_Science_ID = CNTSCHID[which.max(Science)],\n    Top_Science_Score = max(Science),\n    Bottom_Science_ID = CNTSCHID[which.min(Science)],\n    Bottom_Science_Score = min(Science)\n  )\n\n# Reshape for plotting\nschool_averages_long &lt;- school_averages %&gt;%\n  pivot_longer(\n    cols = c(Math, Reading, Science),\n    names_to = \"Subject\",\n    values_to = \"Average_Score\"\n  )\n\n# Create the plot\nggplot(school_averages_long, aes(x = Subject, y = Average_Score)) +\n  geom_jitter(aes(color = CNTSCHID), width = 0.2) +\n  geom_text(data = top_bottom_schools, aes(x = 1, y = Top_Math_Score, label = Top_Math_ID), vjust = 2) +\n  geom_text(data = top_bottom_schools, aes(x = 1, y = Bottom_Math_Score, label = Bottom_Math_ID), vjust = 2) +\n  geom_text(data = top_bottom_schools, aes(x = 2, y = Top_Reading_Score, label = Top_Reading_ID), vjust = -1) +\n  geom_text(data = top_bottom_schools, aes(x = 2, y = Bottom_Reading_Score, label = Bottom_Reading_ID), vjust = -1) +\n  geom_text(data = top_bottom_schools, aes(x = 3, y = Top_Science_Score, label = Top_Science_ID), vjust = -1) +\n  geom_text(data = top_bottom_schools, aes(x = 3, y = Bottom_Science_Score, label = Bottom_Science_ID), vjust = 2) +\n  labs(title = \"Average Scores by Subject and School\", x = \"Subject\", y = \"Average Score\") +\n  theme_minimal() +\n  theme(legend.position = \"none\") # Hide the legend to clean up the plot\n\n\n\n\n\nFrom the plot, we could see that students in school 003 get highest score in math and science. Students in school 062 get the highest score in subject. However, students in school 149 perform the worst in all three courses."
  }
]